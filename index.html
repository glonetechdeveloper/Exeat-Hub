<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exeathub Dashboard</title>
    <link rel="stylesheet" href="./studentdashboard.css">
</head>

<body>

    <!-- Navbar -->
    <header class="navbar" id="navbar">
        <div class="nav-inner">
            <a href="#" class="nav-logo">
                <img src="./test.jpg" alt="Logo">
            </a>

            <div class="nav-right">
                <div class="exeat-cart">
                    <span class="cart-icon">üìù</span>
                    <span class="cart-count">3</span>
                </div>
                <button id="hamburger" class="hamburger" aria-label="Open Menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Overlay -->
    <div id="overlay" class="overlay"></div>

    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar">
        <button id="closeBtn" class="close-btn">‚úï</button>
        <nav class="sidebar-nav">
            <ul class="sidebar-links">
                <li><a href="#">Dashboard</a></li>
                <li><a href="#">Request Exeat</a></li>
                <li><a href="#">History</a></li>
                <li><a href="#">Profile</a></li>
                <li><a href="#">Settings</a></li>
            </ul>
        </nav>
        <div class="sidebar-logo">
            <img src="./test.jpg" alt="Sidebar Logo">
        </div>
    </aside>

    <div class="background-pattern">
        <main class="page"></main>

        <section class="greeting-section" data-animate>
            <div class="greeting-container">
                <h2><span class="greeting-name">Hello, <span id="user-name">Student</span>!</span></h2>
                <p class="greeting-subtext">Welcome to Exeat Hub, Covenant University.</p>
            </div>
        </section>




        <section class="exeat-section">
            <h2 class="section-title">Choose Exeat Type</h2>

            <div class="exeat-options">
                <div class="exeat-card" data-type="day">Day Exeat</div>
                <div class="exeat-card" data-type="home">Home Exeat</div>
                <div class="exeat-card" data-type="canaanland">Canaanland Exeat</div>
            </div>

            <div class="exeat-form-wrapper">
                <form class="exeat-form-card">
                    <h3 class="exeat-form-title">Exeat Application Form</h3>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Name</label>
                            <input type="text" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group half">
                            <label>Matric No</label>
                            <input type="text" required>
                        </div>
                        <div class="form-group half">
                            <label>Level</label>
                            <input type="text" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group half">
                            <label>College</label>
                            <input type="text" required>
                        </div>
                        <div class="form-group half">
                            <label>Course of Study</label>
                            <input type="text" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Reason</label>
                            <textarea rows="3" required></textarea>
                        </div>
                    </div>

                    <!-- Drag & Drop Upload -->
                    <div class="form-row">
                        <div class="upload-area" id="uploadBox">
                            <p>Drag & Drop file here</p>
                            <span>or</span>
                            <button type="button" onclick="document.getElementById('fileInput').click()">Browse
                                Files</button>
                            <input type="file" id="fileInput" hidden required>
                        </div>
                    </div>

                    <div class="form-row date-row">
                        <div class="form-group half">
                            <label>Start Date</label>
                            <input type="date" required>
                        </div>
                        <div class="form-group half">
                            <label>End Date</label>
                            <input type="date" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group half">
                            <label>Contact Relation</label>
                            <input type="text" required>
                        </div>
                        <div class="form-group half">
                            <label>Contact Phone</label>
                            <input type="tel" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Your Phone (while away)</label>
                            <input type="tel" required>
                        </div>
                    </div>

                    <button class="submit-btn" type="submit">Submit Request</button>
                </form>
            </div>
        </section>






        <!-- ==============================
     Pending Applications Section
=============================== -->
        <section class="pending-applications-section" data-animate>
            <h2 class="section-title">Pending Applications</h2>
            <h4 class="section-subtitle">View all pending applications</h4>

            <div class="pending-table">
                <div class="pending-header">
                    <span>Date Applied</span>
                    <span>Type of Exeat</span>
                    <span>Status</span>
                    <span>Actions</span>
                </div>

                <div class="pending-row" data-application='{
      "date":"2025-11-22 09:35",
      "type":"Home Exeat",
      "status":"Pending",
      "reason":"Family visit",
      "contact_relation":"Parent",
      "contact_phone":"08012345678",
      "phone_while_away":"08123456789",
      "start_date":"2025-11-24",
      "end_date":"2025-11-25"
    }'>
                    <span>2025-11-22 09:35</span>
                    <span>Home Exeat</span>
                    <span class="status pending">Pending</span>
                    <span><button class="view-details-btn">View Details</button></span>
                </div>

                <div class="pending-row" data-application='{
      "date":"2025-11-21 14:20",
      "type":"Day Exeat",
      "status":"Pending",
      "reason":"Medical appointment",
      "contact_relation":"Parent",
      "contact_phone":"08098765432",
      "phone_while_away":"08123456789",
      "start_date":"2025-11-23",
      "end_date":"2025-11-23"
    }'>
                    <span>2025-11-21 14:20</span>
                    <span>Day Exeat</span>
                    <span class="status pending">Pending</span>
                    <span><button class="view-details-btn">View Details</button></span>
                </div>
            </div>
        </section>

        <!-- Modal -->
        <div class="details-modal" id="detailsModal">
            <div class="details-modal-content">
                <span class="close-modal" id="closeModal">&times;</span>
                <h3>Application Details</h3>
                <div class="details-info"></div>

                <h4 style="margin-top:20px; color:#475569; font-weight:600;">Tracked Status</h4>
                <div class="tracked-status">
                    <div class="step" data-step="Applied">Applied</div>
                    <div class="step" data-step="Approved for Confirmation">Approved for Confirmation</div>
                    <div class="step" data-step="Parent Confirmation">Parent Confirmation</div>
                    <div class="step" data-step="Approved">Approved</div>
                </div>
            </div>
        </div>






        <!-- ==============================
     Exeat History Section (REPLACEMENT)
============================== -->
        <section class="history-section" data-animate>
            <div class="history-inner"> <!-- new container to control horizontal margins -->
                <h2 class="history-title">Exeat History</h2>

                <div class="history-top-bar">
                    <button id="openHistoryFilter" class="history-filter-btn">üîç Filter</button>
                </div>

                <div class="history-table">
                    <div class="history-header">
                        <span>Date Applied</span>
                        <span>Type of Exeat</span>
                        <span>Status</span>
                        <span>Actions</span>
                    </div>

                    <!-- Example 1 (NOTE: data-date used by filter JS) -->
                    <div class="history-row" data-date="2025-10-11" data-type="Home Exeat">
                        <span>2025-10-11 08:15</span>
                        <span>Home Exeat</span>
                        <span class="history-status approved">Approved</span>
                        <span>
                            <button class="history-view-btn">View Details</button>
                            <button class="view-slip-btn">View Slip</button>
                        </span>

                    </div>

                    <!-- Example 2 -->
                    <div class="history-row" data-date="2025-09-20" data-type="Day Exeat">
                        <span>2025-09-20 14:40</span>
                        <span>Day Exeat</span>
                        <span class="history-status declined">Declined</span>
                        <span><button class="history-view-btn">View Details</button></span>
                    </div>
                </div>
            </div>
        </section>


        <!-- ==============================
     Filter Popup (REPLACEMENT)
============================== -->
        <div id="historyFilterPopup" class="history-filter-modal" aria-hidden="true">
            <div class="history-filter-content">
                <button id="closeHistoryFilter" class="history-filter-close" aria-label="Close filter">&times;</button>
                <h3>Filter Exeat History</h3>

                <label for="historyFilterType">Type of Exeat</label>
                <select id="historyFilterType">
                    <option value="all">All</option>
                    <option value="Day Exeat">Day Exeat</option>
                    <option value="Home Exeat">Home Exeat</option>
                    <option value="Canaanland Exeat">Canaanland Exeat</option>
                </select>

                <label for="historyFilterStatus">Status</label>
                <select id="historyFilterStatus">
                    <option value="all">All</option>
                    <option value="Approved">Approved</option>
                    <option value="Declined">Declined</option>
                </select>

                <label for="historyFilterRange">Time Period</label>
                <select id="historyFilterRange">
                    <option value="all">All</option>
                    <option value="7days">Last 7 Days</option>
                    <option value="30days">Last 30 Days</option>
                    <option value="month">This Month</option>
                </select>

                <button id="applyHistoryFilter" class="apply-filter-btn">Apply Filter</button>
            </div>
        </div>


        <!-- ==============================
     View Details Modal (REPLACEMENT)
     ‚Äî styled to match your screenshot
============================== -->
        <div id="historyDetailsModal" class="history-details-modal" aria-hidden="true">
            <div class="history-details-content">
                <button id="closeHistoryDetails" class="history-details-close" aria-label="Close details">‚úï</button>

                <h3 class="details-header">Application Details</h3>

                <div class="history-details-info">
                    <div class="detail-pill"><strong>reason:</strong> <span id="detailsReason">‚Äî</span></div>
                    <div class="detail-pill"><strong>contact relation:</strong> <span
                            id="detailsContactRelation">‚Äî</span></div>

                    <div class="detail-pill"><strong>contact phone:</strong> <span id="detailsContactPhone">‚Äî</span>
                    </div>
                    <div class="detail-pill"><strong>phone while away:</strong> <span id="detailsPhoneAway">‚Äî</span>
                    </div>

                    <div class="detail-pill"><strong>start date:</strong> <span id="detailsStartDate">‚Äî</span></div>
                    <div class="detail-pill"><strong>end date:</strong> <span id="detailsEndDate">‚Äî</span></div>
                </div>

                <h4 class="tracked-title">Tracked Status</h4>
                <div id="historyTrackSteps" class="history-tracked-steps">
                    <!-- JS will fill steps as pills -->
                </div>
            </div>
        </div>

        <!-- ==========================
        DASHBOARD FOOTER
========================== -->
        <footer class="exeathub-footer">
            <div class="footer-content">
                <p class="footer-title">ExeatHub ‚Äî Smart Exeat Management System</p>
                <p class="footer-text">
                    Streamlining student movement, approvals, and tracking with efficiency and transparency.
                </p>

                <p class="footer-powered">
                    Powered by <a href=""><span>RimoTech</span></a>
                </p>
            </div>
        </footer>




    </div>
    </main>



    <script src="./studentdashboard.js"></script>
</body>

</html>